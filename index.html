<!DOCTYPE html>
  <html>
  <head>
    <meta charset="utf-8">
    <title> watch the Æ’ out</title>
    <link href="styles.css" rel="stylesheet" type="text/css">
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1> Yo!! </h1>
        <h2> don't die! </h2>
        <div class="scoreboard">
          <!--  keep the score here!  -->
        </div>
      </header>
      <div class="gameArea"></div>
    </div>
    <script>
      var circleData = [];
      var circleRadius = 10;
      var boxSize = 500; //px
      var timeDelay = 2000; //ms
      var numOfEnemies = 10;
      var circleTemplate = {"x_val": 0,
                            "y_val": 0,
                            "radius": 10,
                            "color": 'black'};

      for(var i = 0; i < numOfEnemies; i++){
        circleData.push(circleTemplate);
      }

      var svgContainer = d3.select(".gameArea").append("svg")
                                               .attr("width", boxSize)
                                               .attr("height", boxSize)
                                               .attr("background-color", "#99A");

      var enemies = svgContainer.selectAll("circle")
                                .data(circleData)
                                .enter()
                                .append("circle");

      var updateEnemyData = function(en){
        var randColor = "#"+ Math.floor(Math.random()*7) + Math.floor(Math.random()*7) + Math.floor(Math.random()*7);
        en.each(function(d){
          d.y_val = Math.floor(Math.random()*boxSize);
          d.x_val = Math.floor(Math.random()*boxSize);
          d.color = randColor;
        });
      };

      var refreshEnemy = function(en){
        return en.transition()
                 .duration(timeDelay)
                 .attr("cy", function(d){return d.y_val;})
                 .attr("cx", function(d){return d.x_val;})
                 .style("fill", function(d){return d.color;});
      };

      var drag = d3.behavior.drag()
                            .on("drag", function(d, i){
                              d3.select(this).attr("cy", d3.event.y)
                                    .attr("cx", d3.event.x);
                            });

      var player = svgContainer.append("circle")
                               .attr("cy", boxSize/2)
                               .attr("cx", boxSize/2)
                               .attr("r", circleRadius)
                               .style("fill", "orange")
                               .call(drag);

      player.on("drag", function(e){
        console.log(e);
      });

      var setIntervalID = setInterval(function(){updateEnemyData(enemies); refreshEnemy(enemies);},timeDelay);
    </script>
  </body>
</html>